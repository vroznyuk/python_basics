Привет!
Будем   считать  количество строк,
а также количество   слов в строке.
Считаем, что слова разделены  пробелами.
Знаки препинания  будем считать частью предыдущего  слова,
а лишние  пробелы   проигнорируем.